#!/bin/bash

# Stage all changes, including untracked files
git add -A

# Amend the last commit quietly
if git commit -a --no-edit --amend -q; then
    echo "‚úî Commit amended successfully."
else
    echo "‚ùå Commit failed. Check for issues."
    exit 1
fi

# Confirmation prompt before force pushing
read -p "Force push? (y/N) " confirm
if [[ "$confirm" =~ ^[Yy]$ ]]; then
    if git push -f --no-verify; then
        echo "üöÄ Force push completed successfully."
    else
        echo "‚ùå Push failed. Check for errors."
        exit 1
    fi
else
    echo "‚è≥ Push aborted."
fi
